###########################
# Italian Events
###########################

add_namespace = italy

### Introduction Event

country_event = {
	id = italy.0
	title = italy.0.t
	desc = italy.0.d
	picture = ayy

	trigger = {
		tag = ITA
	}

	mean_time_to_happen = { days = 10 }

	fire_only_once = yes

	option = {
		name = italy.0.a
	}
}

country_event = {
	id = italy.1
	title = italy.1.t
	desc = italy.1.d
	picture = GFX_report_event_communists_cheer

	trigger = {
		tag = ITA
		focus_progress = { focus = ITA_elc progress > 0.5 }
	}

	mean_time_to_happen = { days = 20 }

	fire_only_once = yes
	
	immediate = {
		# set up the flag starting values
		set_country_flag = { flag = ITA_elc_max value = 0 }
		set_country_flag = { flag = ITA_elc_fed value = 0 }
		set_country_flag = { flag = ITA_elc_aut value = 0 }
	}

	option = {
		name = italy.1.a
		ai_chance = { factor = 40 }
		set_country_flag = ITA_elc_economy_mosley
		modify_country_flag = { flag = ITA_elc_max value = 1 }
		add_popularity = { ideology = totalist popularity = 0.05 }
	}
	option = {
		name = italy.1.b
		ai_chance = { factor = 30 }
		set_country_flag = ITA_elc_economy_fem
		modify_country_flag = { flag = ITA_elc_fed value = 1 }
		add_popularity = { ideology = syndicalist popularity = 0.05 }
	}
	option = {
		name = italy.1.c
		ai_chance = { factor = 30 }
		set_country_flag = ITA_elc_economy_glais
		modify_country_flag = { flag = ITA_elc_aut value = 1 }
		add_popularity = { ideology = radical_socialist popularity = 0.05 }
	}
}

# Internal policy

country_event = {
	id = italy.2
	title = italy.2.t
	desc = italy.2.d
	picture = GFX_report_event_communists_cheer

	trigger = {
		tag = ITA
		focus_progress = { focus = ITA_elc progress > 0.5 }
		OR = {
			has_country_flag = ITA_elc_economy_mosley
			has_country_flag = ITA_elc_economy_fem
			has_country_flag = ITA_elc_economy_glais
		}
	}

	mean_time_to_happen = { days = 5 }

	fire_only_once = yes

	option = {
		name = italy.2.a
		ai_chance = { factor = 35 }
		set_country_flag = ITA_elc_internal_mosley
		modify_country_flag = { flag = ITA_elc_max value = 1 }
		add_popularity = { ideology = totalist popularity = 0.05 }
	}
	option = {
		name = italy.2.b
		ai_chance = { factor = 30 }
		set_country_flag = ITA_elc_internal_fem
		modify_country_flag = { flag = ITA_elc_fed value = 1 }
		add_popularity = { ideology = syndicalist popularity = 0.05 }
	}
	option = {
		name = italy.2.c
		ai_chance = { factor = 35 }
		set_country_flag = ITA_elc_internal_glais
		modify_country_flag = { flag = ITA_elc_aut value = 1 }
		add_popularity = { ideology = radical_socialist popularity = 0.05 }
	}
}

# Defecting Officers

country_event = {
	id = italy.3
	title = italy.3.t
	desc = italy.3.d
	picture = GFX_report_event_soviet_purge_officers_02

	trigger = {
		tag = ITA
		has_completed_focus = ITA_elc_military
	}

	mean_time_to_happen = { days = 14 }

	fire_only_once = yes

	option = {
		name = italy.3.a
		hidden_effect = {
			set_country_flag = ITA_defecting_officers
		}
	}
}

# Military policy

country_event = {
	id = italy.4
	title = italy.4.t
	desc = italy.4.d
	picture = GFX_report_event_communists_cheer

	trigger = {
		tag = ITA
		focus_progress = { focus = ITA_elc progress > 0.5 }
		OR = {
			has_country_flag = ITA_elc_economy_mosley
			has_country_flag = ITA_elc_economy_fem
			has_country_flag = ITA_elc_economy_glais
		}
	}

	mean_time_to_happen = { days = 5 }

	fire_only_once = yes

	option = {
		name = italy.4.a
		ai_chance = { factor = 25 }
		set_country_flag = ITA_elc_military_mosley
		modify_country_flag = { flag = ITA_elc_max value = 1 }
		add_popularity = { ideology = totalist popularity = 0.05 }
	}
	option = {
		name = italy.4.b
		ai_chance = { factor = 40 }
		set_country_flag = ITA_elc_military_fem
		modify_country_flag = { flag = ITA_elc_fed value = 1 }
		add_popularity = { ideology = syndicalist popularity = 0.05 }
	}
	option = {
		name = italy.4.c
		ai_chance = { factor = 35 }
		set_country_flag = ITA_elc_military_glais
		modify_country_flag = { flag = ITA_elc_aut value = 1 }
		add_popularity = { ideology = radical_socialist popularity = 0.05 }
	}
}

# Foreign policy

country_event = {
	id = italy.5
	title = italy.5.t
	desc = italy.5.d
	picture = GFX_report_event_communists_cheer

	trigger = {
		tag = ITA
		focus_progress = { focus = ITA_elc progress > 0.5 }
		OR = {
			has_country_flag = ITA_elc_economy_mosley
			has_country_flag = ITA_elc_economy_fem
			has_country_flag = ITA_elc_economy_glais
		}
	}

	mean_time_to_happen = { days = 5 }

	fire_only_once = yes

	option = {
		name = italy.5.a
		ai_chance = { factor = 30 }
		set_country_flag = ITA_elc_foreign_mosley
		modify_country_flag = { flag = ITA_elc_max value = 1 }
		add_popularity = { ideology = totalist popularity = 0.05 }
	}
	option = {
		name = italy.5.b
		ai_chance = { factor = 40 }
		set_country_flag = ITA_elc_foreign_fem
		modify_country_flag = { flag = ITA_elc_fed value = 1 }
		add_popularity = { ideology = syndicalist popularity = 0.05 }
	}
	option = {
		name = italy.5.c
		ai_chance = { factor = 30 }
		set_country_flag = ITA_elc_foreign_glais
		modify_country_flag = { flag = ITA_elc_aut value = 1 }
		add_popularity = { ideology = radical_socialist popularity = 0.05 }
	}
}

### New Chairman

# The Resignation of Philip Snowden

country_event = {
	id = italy.6
	title = italy.6.t
	desc = italy.6.d
	picture = GFX_report_crowd_in_prague

	trigger = {
		tag = ITA
		has_country_leader = { name = "Philip Snowden" }
		has_completed_focus = ITA_elc_economy
		has_completed_focus = ITA_elc_internal
		has_completed_focus = ITA_elc_military
		has_completed_focus = ITA_elc_foreign
		NOT = { has_country_flag = philip_snowden_resigns }
	}

	mean_time_to_happen = { days = 7 }

	fire_only_once = yes

	option = {
		name = italy.6.a
		add_political_power = -50
		set_country_flag = philip_snowden_resigns
	}
}

### Majority governments

# Mosley wins

country_event = {
	id = italy.7
	title = italy.7.t
	desc = italy.7.d
	picture = GFX_report_event_election_vote

	trigger = {
		tag = ITA
		has_country_flag = philip_snowden_resigns
		has_country_flag = { flag = ITA_elc_max value > 2 }
	}

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes
	
	immediate = {
		clr_country_flag = philip_snowden_resigns
	}

	option = {
		name = italy.7.a
		set_politics = {
			ruling_party = totalist
		}
		hidden_effect = {
			create_country_leader = {
				name = "Oswald Mosley"
				desc = "ITA_mosley_desc"
				picture = "Portrait_ITAland_Oswald_Mosley.tga"
				expire = "1965.1.1"
				ideology = totalist_subtype
				traits = { }
			}
			set_country_flag = mosley_chairman
			ITA = {
				country_event = { id = italy.101 days = 14 }
			}
			random_country = {
				limit = { NOT = { TAG = ITA } }
				news_event = { id = worldnews.24 days = 2 }
			}
		}
	}
}

# Glais wins

country_event = {
	id = italy.8
	title = italy.8.t
	desc = italy.8.d
	picture = GFX_report_event_election_vote

	trigger = {
		tag = ITA
		has_country_flag = philip_snowden_resigns
		has_country_flag = { flag = ITA_elc_aut value > 2 }
	}

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes
	
	immediate = {
		clr_country_flag = philip_snowden_resigns
	}

	option = {
		name = italy.8.a
		set_politics = {
			ruling_party = radical_socialist
		}
		hidden_effect = {
			create_country_leader = {
				name = "Niclas y Glais"
				desc = "ITA_glais_desc"
				picture = "Portrait_ITAland_Niclas_y_Glais.tga"
				expire = "1965.1.1"
				ideology = radical_socialist_subtype
				traits = { dictator }
			}
			set_country_flag = glais_chairman
			ITA = {
				country_event = { id = italy.101 days = 14 }
			}
			random_country = {
				limit = { NOT = { TAG = ITA } }
				news_event = { id = worldnews.25 days = 2 }
			}
		}
	}
}

# Horner - Kenney wins

country_event = {
	id = italy.9
	title = italy.9.t
	desc = italy.9.d
	picture = GFX_report_event_election_vote

	trigger = {
		tag = ITA
		has_country_flag = philip_snowden_resigns
		has_country_flag = { flag = ITA_elc_fed value > 2 }
	}

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes
	
	immediate = {
		clr_country_flag = philip_snowden_resigns
	}

	option = {
		name = italy.9.a
		retire_country_leader = yes
		set_politics = { ruling_party = syndicalist }
		create_country_leader = {
			name = "Annie Kenney"
			picture = "Portrait_ITAland_Annie_Kenney.tga"
			expire = "1965.1.1"
			ideology  = syndicalist_subtype
			traits = { }
		}
		hidden_effect = {
			set_party_name = { ideology = syndicalist long_name = ITA_CON_syndicalist_party_long name = ITA_CON_syndicalist_party }
			set_country_flag = kenney_chairman
			ITA = {
				country_event = { id = italy.101 days = 14 }
			}
			random_country = {
				limit = { NOT = { TAG = ITA } }
				news_event = { id = worldnews.26 days = 2 }
			}
		}
	}

	option = {
		name = italy.9.b
		retire_country_leader = yes
		set_politics = { ruling_party = syndicalist }
		create_country_leader = {
			name = "Arthur Horner"
			desc = "ITA_horner_desc"
			picture = "Portrait_ITAland_Arthur_Horner.tga"
			expire = "1965.1.1"
			ideology = syndicalist_subtype
			traits = { }
		}
		hidden_effect = {
			set_party_name = { ideology = syndicalist long_name = ITA_FED_syndicalist_party_long name = ITA_FED_syndicalist_party }
			clr_country_flag = philip_snowden_resigns
			set_country_flag = horner_chairman
			ITA = {
				country_event = { id = italy.101 days = 14 }
			}
			random_country = {
				limit = { NOT = { TAG = ITA } }
				news_event = { id = worldnews.27 days = 2 }
			}
		}
	}
}

### Minority governments

# Mosley wins

country_event = {
	id = italy.10
	title = italy.10.t
	desc = italy.10.d
	picture = GFX_report_event_election_vote

	trigger = {
		tag = ITA
		has_country_flag = philip_snowden_resigns
		AND = {
			has_country_flag = { flag = ITA_elc_max value > 1 }
			has_country_flag = { flag = ITA_elc_fed value < 2 }
			has_country_flag = { flag = ITA_elc_aut value < 2 }
		}
	}

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes
	
	immediate = {
		clr_country_flag = philip_snowden_resigns
	}

	option = {
		name = italy.10.a
		set_politics = {
			ruling_party = totalist
		}
		hidden_effect = {
			set_politics = { ruling_party = totalist }
			create_country_leader = {
				name = "Oswald Mosley"
				desc = "ITA_mosley_desc"
				picture = "Portrait_ITAland_Oswald_Mosley.tga"
				expire = "1965.1.1"
				ideology = totalist_subtype
				traits = { }
			}
			set_country_flag = mosley_chairman
			ITA = {
				country_event = { id = italy.101 days = 14 }
			}
			random_country = {
				limit = { NOT = { TAG = ITA } }
				news_event = { id = worldnews.24 days = 2 }
			}
		}
	}
}

# Glais wins

country_event = {
	id = italy.11
	title = italy.11.t
	desc = italy.11.d
	picture = GFX_report_event_election_vote

	trigger = {
		tag = ITA
		has_country_flag = philip_snowden_resigns
		AND = {
			has_country_flag = { flag = ITA_elc_aut value > 1 }
			has_country_flag = { flag = ITA_elc_fed value < 2 }
			has_country_flag = { flag = ITA_elc_max value < 2 }
		}
	}

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes
	
	immediate = {
		clr_country_flag = philip_snowden_resigns
	}

	option = {
		name = italy.11.a
		set_politics = {
			ruling_party = radical_socialist
		}
		hidden_effect = {
			set_politics = { ruling_party = radical_socialist }
			create_country_leader = {
				name = "Niclas y Glais"
				desc = "ITA_glais_desc"
				picture = "Portrait_ITAland_Niclas_y_Glais.tga"
				expire = "1965.1.1"
				ideology = radical_socialist_subtype
				traits = { dictator }
			}
			set_country_flag = glais_chairman
			ITA = {
				country_event = { id = italy.101 days = 14 }
			}
			random_country = {
				limit = { NOT = { TAG = ITA } }
				news_event = { id = worldnews.25 days = 2 }
			}
		}
	}
}

# Horner - Kenney wins

country_event = {
	id = italy.12
	title = italy.12.t
	desc = italy.12.d
	picture = GFX_report_event_election_vote

	trigger = {
		tag = ITA
		has_country_flag = philip_snowden_resigns
		AND = {
			has_country_flag = { flag = ITA_elc_fed value > 1 }
			has_country_flag = { flag = ITA_elc_aut value < 2 }
			has_country_flag = { flag = ITA_elc_max value < 2 }
		}
	}

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes
	
	immediate = {
		clr_country_flag = philip_snowden_resigns
	}

	option = {
		name = italy.12.a
		retire_country_leader = yes
		set_politics = { ruling_party = syndicalist }
		create_country_leader = {
			name = "Annie Kenney"
			picture = "Portrait_ITAland_Annie_Kenney.tga"
			expire = "1965.1.1"
			ideology = syndicalist_subtype
			traits = { }
		}
		hidden_effect = {
			set_party_name = { ideology = syndicalist long_name = ITA_CON_syndicalist_party_long name = ITA_CON_syndicalist_party }
			set_country_flag = kenney_chairman
			ITA = {
				country_event = { id = italy.101 days = 14 }
			}
			random_country = {
				limit = { NOT = { TAG = ITA } }
				news_event = { id = worldnews.26 days = 2 }
			}
		}
	}

	option = {
		name = italy.12.b
		retire_country_leader = yes
		set_politics = { ruling_party = syndicalist }
		create_country_leader = {
			name = "Arthur Horner"
			desc = "ITA_horner_desc"
			picture = "Portrait_ITAland_Arthur_Horner.tga"
			expire = "1965.1.1"
			ideology = syndicalist_subtype
			traits = { }
		}
		hidden_effect = {
			set_party_name = { ideology = syndicalist long_name = ITA_FED_syndicalist_party_long name = ITA_FED_syndicalist_party }
			set_country_flag = horner_chairman
			ITA = {
				country_event = { id = italy.101 days = 14 }
			}
			random_country = {
				limit = { NOT = { TAG = ITA } }
				news_event = { id = worldnews.27 days = 2 }
			}
		}
	}
}

# TUC Elections - Draw

country_event = {
	id = italy.13
	title = italy.13.t
	desc = italy.13.d
	picture = GFX_report_event_election_vote

	trigger = {
		tag = ITA
		has_country_flag = philip_snowden_resigns
		has_country_flag = { flag = ITA_elc_fed value < 3 }
		has_country_flag = { flag = ITA_elc_aut value < 3 }
		has_country_flag = { flag = ITA_elc_max value < 3 }
	}

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes
	
	immediate = {
		clr_country_flag = philip_snowden_resigns
	}

	option = {
		name = italy.13.a
		retire_country_leader = yes
		set_politics = { ruling_party = syndicalist }
		create_country_leader = {
			name = "Tom Mann"
			desc = "ITA_mann_desc"
			picture = "Portrait_ITAland_Tom_Mann.tga"
			expire = "1965.1.1"
			ideology = syndicalist_subtype
			traits = { }
		}
		hidden_effect = {
			set_country_flag = chairmann
			set_global_flag = worldnews_italy_fuck_it
		}
		hidden_effect = {
			random_country = {
				limit = { NOT = { TAG = ITA } }
				news_event = { id = worldnews.90 days = 2 }
			}
		}
	}

	option = {
		name = italy.13.b
		retire_country_leader = yes
		set_politics = { ruling_party = syndicalist }
		create_country_leader = {
			name = "Trade Union Congress"
			desc = "ITA_trade_union_congress_desc"
			picture = "Portrait_ITAland_Trade_Union_Congress.tga"
			expire = "1965.1.1"
			ideology = syndicalist_subtype
			traits = { }
		}
		hidden_effect = {
			set_country_flag = wedontneednostinkingchairman
			set_global_flag = worldnews_italy_vote_again
			ITA = {
				country_event = { days = 330 id = italy.14 }
			}
			random_country = {
				limit = { NOT = { TAG = ITA } }
				news_event = { id = worldnews.90 days = 2 }
			}
		}
	}
}