###########################
# Italian Events
###########################

add_namespace = italy

### Introduction Event

country_event = {
	id = italy.0
	title = italy.0.t
	desc = italy.0.d
	picture = ayy

	trigger = {
		tag = ITA
	}

	mean_time_to_happen = { days = 10 }

	fire_only_once = yes

	option = {
		name = italy.0.a
	}
}

country_event = {
	id = italy.1
	title = italy.1.t
	desc = italy.1.d
	picture = GFX_report_event_communists_cheer

	trigger = {
		tag = ITA
		date > 1936.5.0
	}

	mean_time_to_happen = { days = 20 }

	fire_only_once = yes
	
	immediate = {
		# set up the flag starting values
		set_country_flag = { flag = ITA_elc_soc value = 0 }
		set_country_flag = { flag = ITA_elc_lib value = 0 }
		set_country_flag = { flag = ITA_elc_sdm value = 0 }
		set_country_flag = { flag = ITA_elc_con value = 0 }
	}

	option = {
		name = italy.1.a
		ai_chance = { factor = 40 }
		set_country_flag = ITA_elc_economy_antonio
		modify_country_flag = { flag = ITA_elc_soc value = 1 }
		add_popularity = { ideology = bolshevist popularity = 0.05 }
	}
	option = {
		name = italy.1.b
		ai_chance = { factor = 30 }
		set_country_flag = ITA_elc_economy_luigi
		modify_country_flag = { flag = ITA_elc_lib value = 1 }
		add_popularity = { ideology = market_liberal popularity = 0.05 }
	}
	option = {
		name = italy.1.c
		ai_chance = { factor = 30 }
		set_country_flag = ITA_elc_economy_giuseppe
		modify_country_flag = { flag = ITA_elc_sdm value = 1 }
		add_popularity = { ideology = social_democrat popularity = 0.05 }
	}
}

# Internal policy

country_event = {
	id = italy.2
	title = italy.2.t
	desc = italy.2.d
	picture = GFX_report_event_communists_cheer

	trigger = {
		tag = ITA
		OR = {
			has_country_flag = ITA_elc_economy_antonio
			has_country_flag = ITA_elc_economy_luigi
			has_country_flag = ITA_elc_economy_giuseppe
		}
	}

	mean_time_to_happen = { days = 5 }

	fire_only_once = yes

	option = {
		name = italy.2.a
		ai_chance = { factor = 35 }
		set_country_flag = ITA_elc_internal_antonio
		modify_country_flag = { flag = ITA_elc_soc value = 1 }
		add_popularity = { ideology = bolshevist popularity = 0.05 }
	}
	option = {
		name = italy.2.b
		ai_chance = { factor = 30 }
		set_country_flag = ITA_elc_internal_luigi
		modify_country_flag = { flag = ITA_elc_lib value = 1 }
		add_popularity = { ideology = market_liberal popularity = 0.05 }
	}
	option = {
		name = italy.2.c
		ai_chance = { factor = 35 }
		set_country_flag = ITA_elc_internal_giuseppe
		modify_country_flag = { flag = ITA_elc_sdm value = 1 }
		add_popularity = { ideology = social_democrat popularity = 0.05 }
	}
}

# Military policy

country_event = {
	id = italy.4
	title = italy.4.t
	desc = italy.4.d
	picture = GFX_report_event_communists_cheer

	trigger = {
		tag = ITA
		OR = {
			has_country_flag = ITA_elc_economy_antonio
			has_country_flag = ITA_elc_economy_luigi
			has_country_flag = ITA_elc_economy_giuseppe
		}
	}

	mean_time_to_happen = { days = 5 }

	fire_only_once = yes

	option = {
		name = italy.4.a
		ai_chance = { factor = 25 }
		set_country_flag = ITA_elc_military_antonio
		modify_country_flag = { flag = ITA_elc_soc value = 1 }
		add_popularity = { ideology = bolshevist popularity = 0.05 }
	}
	option = {
		name = italy.4.b
		ai_chance = { factor = 40 }
		set_country_flag = ITA_elc_military_luigi
		modify_country_flag = { flag = ITA_elc_lib value = 1 }
		add_popularity = { ideology = market_liberal popularity = 0.05 }
	}
	option = {
		name = italy.4.c
		ai_chance = { factor = 35 }
		set_country_flag = ITA_elc_military_giuseppe
		modify_country_flag = { flag = ITA_elc_sdm value = 1 }
		add_popularity = { ideology = social_democrat popularity = 0.05 }
	}
}

# Foreign policy

country_event = {
	id = italy.5
	title = italy.5.t
	desc = italy.5.d
	picture = GFX_report_event_communists_cheer

	trigger = {
		tag = ITA
		focus_progress = { focus = ITA_elc progress > 0.5 }
		OR = {
			has_country_flag = ITA_elc_economy_antonio
			has_country_flag = ITA_elc_economy_luigi
			has_country_flag = ITA_elc_economy_giuseppe
		}
	}

	mean_time_to_happen = { days = 5 }

	fire_only_once = yes

	option = {
		name = italy.5.a
		ai_chance = { factor = 30 }
		set_country_flag = ITA_elc_foreign_antonio
		modify_country_flag = { flag = ITA_elc_soc value = 1 }
		add_popularity = { ideology = bolshevist popularity = 0.05 }
	}
	option = {
		name = italy.5.b
		ai_chance = { factor = 40 }
		set_country_flag = ITA_elc_foreign_luigi
		modify_country_flag = { flag = ITA_elc_lib value = 1 }
		add_popularity = { ideology = market_liberal popularity = 0.05 }
	}
	option = {
		name = italy.5.c
		ai_chance = { factor = 30 }
		set_country_flag = ITA_elc_foreign_giuseppe
		modify_country_flag = { flag = ITA_elc_sdm value = 1 }
		add_popularity = { ideology = social_democrat popularity = 0.05 }
	}
}

### New Chairman

### Majority governments

# Socialist wins

country_event = {
	id = italy.7
	title = italy.7.t
	desc = italy.7.d
	picture = GFX_report_event_election_vote

	trigger = {
		tag = ITA
		has_country_flag = { flag = ITA_elc_soc value > 2 }
	}

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	option = {
		name = italy.7.a
		set_politics = {
			ruling_party = bolshevist
		}
		hidden_effect = {
			create_country_leader = {
				name = "Antonio Gramsci"
				desc = "ANTONIO_GRAMSCI_DESC"
				picture = "Portrait_Italy_Vittorio_Antonio_Gramsci.dds"
				expire = "1965.1.1"
				ideology = bolshevist_subtype
				traits = { }
			}
			set_country_flag = antonio_chairman
			ITA = {
				country_event = { id = italy.101 days = 14 }
			}
			random_country = {
				limit = { NOT = { TAG = ITA } }
				news_event = { id = itanews.1 days = 2 }
			}
		}
	}
	
	option = {
		name = italy.7.b
		set_politics = {
			ruling_party = valkist
		}
			add_popularity = {
				ideology = valkist popularity = 0.40 
		}
		hidden_effect = {
			create_country_leader = {
				name = "Italo Balbo"
				desc = "ITALO_BALBO_DESC"
				picture = "Portrait_Italy_Italo_Balbo.dds"
				expire = "1965.1.1"
				ideology = valkist_subtype
				traits = {
				}
			}
			set_country_flag = italo_chairman
			ITA = {
				country_event = { id = italy.101 days = 14 }
			}
			random_country = {
				limit = { NOT = { TAG = ITA } }
				news_event = { id = itanews.1 days = 2 }
			}
		}
	}
}

# Glais wins

country_event = {
	id = italy.8
	title = italy.8.t
	desc = italy.8.d
	picture = GFX_report_event_election_vote

	trigger = {
		tag = ITA
		has_country_flag = philip_snowden_resigns
		has_country_flag = { flag = ITA_elc_sdm value > 2 }
	}

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes
	
	immediate = {
		clr_country_flag = philip_snowden_resigns
	}

	option = {
		name = italy.8.a
		set_politics = {
			ruling_party = radical_socialist
		}
		hidden_effect = {
			create_country_leader = {
				name = "Niclas y Glais"
				desc = "ITA_glais_desc"
				picture = "Portrait_ITAland_Niclas_y_Glais.tga"
				expire = "1965.1.1"
				ideology = radical_socialist_subtype
				traits = { dictator }
			}
			set_country_flag = glais_chairman
			ITA = {
				country_event = { id = italy.101 days = 14 }
			}
			random_country = {
				limit = { NOT = { TAG = ITA } }
				news_event = { id = worldnews.25 days = 2 }
			}
		}
	}
}

# Horner - Kenney wins

country_event = {
	id = italy.9
	title = italy.9.t
	desc = italy.9.d
	picture = GFX_report_event_election_vote

	trigger = {
		tag = ITA
		has_country_flag = philip_snowden_resigns
		has_country_flag = { flag = ITA_elc_lib value > 2 }
	}

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes
	
	immediate = {
		clr_country_flag = philip_snowden_resigns
	}

	option = {
		name = italy.9.a
		retire_country_leader = yes
		set_politics = { ruling_party = syndicalist }
		create_country_leader = {
			name = "Annie Kenney"
			picture = "Portrait_ITAland_Annie_Kenney.tga"
			expire = "1965.1.1"
			ideology  = syndicalist_subtype
			traits = { }
		}
		hidden_effect = {
			set_party_name = { ideology = syndicalist long_name = ITA_CON_syndicalist_party_long name = ITA_CON_syndicalist_party }
			set_country_flag = kenney_chairman
			ITA = {
				country_event = { id = italy.101 days = 14 }
			}
			random_country = {
				limit = { NOT = { TAG = ITA } }
				news_event = { id = worldnews.26 days = 2 }
			}
		}
	}

	option = {
		name = italy.9.b
		retire_country_leader = yes
		set_politics = { ruling_party = syndicalist }
		create_country_leader = {
			name = "Arthur Horner"
			desc = "ITA_horner_desc"
			picture = "Portrait_ITAland_Arthur_Horner.tga"
			expire = "1965.1.1"
			ideology = syndicalist_subtype
			traits = { }
		}
		hidden_effect = {
			set_party_name = { ideology = syndicalist long_name = ITA_FED_syndicalist_party_long name = ITA_FED_syndicalist_party }
			clr_country_flag = philip_snowden_resigns
			set_country_flag = horner_chairman
			ITA = {
				country_event = { id = italy.101 days = 14 }
			}
			random_country = {
				limit = { NOT = { TAG = ITA } }
				news_event = { id = worldnews.27 days = 2 }
			}
		}
	}
}

### Minority governments

# Mosley wins

country_event = {
	id = italy.10
	title = italy.10.t
	desc = italy.10.d
	picture = GFX_report_event_election_vote

	trigger = {
		tag = ITA
		has_country_flag = philip_snowden_resigns
		AND = {
			has_country_flag = { flag = ITA_elc_soc value > 1 }
			has_country_flag = { flag = ITA_elc_lib value < 2 }
			has_country_flag = { flag = ITA_elc_sdm value < 2 }
		}
	}

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes
	
	immediate = {
		clr_country_flag = philip_snowden_resigns
	}

	option = {
		name = italy.10.a
		set_politics = {
			ruling_party = totalist
		}
		hidden_effect = {
			set_politics = { ruling_party = totalist }
			create_country_leader = {
				name = "Oswald Mosley"
				desc = "ITA_mosley_desc"
				picture = "Portrait_ITAland_Oswald_Mosley.tga"
				expire = "1965.1.1"
				ideology = totalist_subtype
				traits = { }
			}
			set_country_flag = mosley_chairman
			ITA = {
				country_event = { id = italy.101 days = 14 }
			}
			random_country = {
				limit = { NOT = { TAG = ITA } }
				news_event = { id = worldnews.24 days = 2 }
			}
		}
	}
}

# Glais wins

country_event = {
	id = italy.11
	title = italy.11.t
	desc = italy.11.d
	picture = GFX_report_event_election_vote

	trigger = {
		tag = ITA
		has_country_flag = philip_snowden_resigns
		AND = {
			has_country_flag = { flag = ITA_elc_sdm value > 1 }
			has_country_flag = { flag = ITA_elc_lib value < 2 }
			has_country_flag = { flag = ITA_elc_soc value < 2 }
		}
	}

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes
	
	immediate = {
		clr_country_flag = philip_snowden_resigns
	}

	option = {
		name = italy.11.a
		set_politics = {
			ruling_party = radical_socialist
		}
		hidden_effect = {
			set_politics = { ruling_party = radical_socialist }
			create_country_leader = {
				name = "Niclas y Glais"
				desc = "ITA_glais_desc"
				picture = "Portrait_ITAland_Niclas_y_Glais.tga"
				expire = "1965.1.1"
				ideology = radical_socialist_subtype
				traits = { dictator }
			}
			set_country_flag = glais_chairman
			ITA = {
				country_event = { id = italy.101 days = 14 }
			}
			random_country = {
				limit = { NOT = { TAG = ITA } }
				news_event = { id = worldnews.25 days = 2 }
			}
		}
	}
}

# Horner - Kenney wins

country_event = {
	id = italy.12
	title = italy.12.t
	desc = italy.12.d
	picture = GFX_report_event_election_vote

	trigger = {
		tag = ITA
		has_country_flag = philip_snowden_resigns
		AND = {
			has_country_flag = { flag = ITA_elc_lib value > 1 }
			has_country_flag = { flag = ITA_elc_sdm value < 2 }
			has_country_flag = { flag = ITA_elc_soc value < 2 }
		}
	}

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes
	
	immediate = {
		clr_country_flag = philip_snowden_resigns
	}

	option = {
		name = italy.12.a
		retire_country_leader = yes
		set_politics = { ruling_party = syndicalist }
		create_country_leader = {
			name = "Annie Kenney"
			picture = "Portrait_ITAland_Annie_Kenney.tga"
			expire = "1965.1.1"
			ideology = syndicalist_subtype
			traits = { }
		}
		hidden_effect = {
			set_party_name = { ideology = syndicalist long_name = ITA_CON_syndicalist_party_long name = ITA_CON_syndicalist_party }
			set_country_flag = kenney_chairman
			ITA = {
				country_event = { id = italy.101 days = 14 }
			}
			random_country = {
				limit = { NOT = { TAG = ITA } }
				news_event = { id = worldnews.26 days = 2 }
			}
		}
	}

	option = {
		name = italy.12.b
		retire_country_leader = yes
		set_politics = { ruling_party = syndicalist }
		create_country_leader = {
			name = "Arthur Horner"
			desc = "ITA_horner_desc"
			picture = "Portrait_ITAland_Arthur_Horner.tga"
			expire = "1965.1.1"
			ideology = syndicalist_subtype
			traits = { }
		}
		hidden_effect = {
			set_party_name = { ideology = syndicalist long_name = ITA_FED_syndicalist_party_long name = ITA_FED_syndicalist_party }
			set_country_flag = horner_chairman
			ITA = {
				country_event = { id = italy.101 days = 14 }
			}
			random_country = {
				limit = { NOT = { TAG = ITA } }
				news_event = { id = worldnews.27 days = 2 }
			}
		}
	}
}

# TUC Elections - Draw

country_event = {
	id = italy.13
	title = italy.13.t
	desc = italy.13.d
	picture = GFX_report_event_election_vote

	trigger = {
		tag = ITA
		has_country_flag = philip_snowden_resigns
		has_country_flag = { flag = ITA_elc_lib value < 3 }
		has_country_flag = { flag = ITA_elc_sdm value < 3 }
		has_country_flag = { flag = ITA_elc_soc value < 3 }
	}

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes
	
	immediate = {
		clr_country_flag = philip_snowden_resigns
	}

	option = {
		name = italy.13.a
		retire_country_leader = yes
		set_politics = { ruling_party = syndicalist }
		create_country_leader = {
			name = "Tom Mann"
			desc = "ITA_mann_desc"
			picture = "Portrait_ITAland_Tom_Mann.tga"
			expire = "1965.1.1"
			ideology = syndicalist_subtype
			traits = { }
		}
		hidden_effect = {
			set_country_flag = chairmann
			set_global_flag = worldnews_italy_fuck_it
		}
		hidden_effect = {
			random_country = {
				limit = { NOT = { TAG = ITA } }
				news_event = { id = worldnews.90 days = 2 }
			}
		}
	}

	option = {
		name = italy.13.b
		retire_country_leader = yes
		set_politics = { ruling_party = syndicalist }
		create_country_leader = {
			name = "Trade Union Congress"
			desc = "ITA_trade_union_congress_desc"
			picture = "Portrait_ITAland_Trade_Union_Congress.tga"
			expire = "1965.1.1"
			ideology = syndicalist_subtype
			traits = { }
		}
		hidden_effect = {
			set_country_flag = wedontneednostinkingchairman
			set_global_flag = worldnews_italy_vote_again
			ITA = {
				country_event = { days = 330 id = italy.14 }
			}
			random_country = {
				limit = { NOT = { TAG = ITA } }
				news_event = { id = worldnews.90 days = 2 }
			}
		}
	}
}